<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…ÛŒÙ…â€ŒÚ©ÙˆÛŒÙ†â€ŒØ´Ù†Ø§Ø³</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .token-card {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 15px;
      background-color: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 15px;
    }
    .risk-low { color: green; }
    .risk-medium { color: orange; }
    .risk-high { color: red; }
    .token-actions {
      margin-top: 10px;
    }
  </style>
</head>
<body class="container py-4">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ğŸ“Š Ù„ÛŒØ³Øª Ù…ÛŒÙ…â€ŒÚ©ÙˆÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒâ€ŒØ´Ø¯Ù‡</h2>
    <div>
      <a href="/edit_filters" class="btn btn-outline-secondary me-2">âš™ï¸ ÙˆÛŒØ±Ø§ÛŒØ´ ÙÛŒÙ„ØªØ±Ù‡Ø§</a>
      <a href="/watchlist" class="btn btn-primary">ğŸ“‹ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ§Ú†â€ŒÙ„ÛŒØ³Øª</a>
    </div>
  </div>

  <p>Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: {{ last_updated }}</p>

  {% for token in tokens %}
    <div class="token-card">
      <h5>{{ token.name }} ({{ token.symbol }})</h5>
      <p><strong>Ù†Ù‚Ø¯ÛŒÙ†Ú¯ÛŒ:</strong> ${{ token.liquidity_usd }} | <strong>ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª ÛµØ¯Ù‚ÛŒÙ‚Ù‡:</strong> {{ token.price_change_5m }}%</p>
      <p><strong>Ø³Ø§Ø²Ù†Ø¯Ù‡ Ú†Ù†Ø¯ ØªÙˆÚ©Ù† Ø³Ø§Ø®ØªÙ‡ØŸ</strong> {{ token.creator_token_count }} | <strong>ØªÙˆ ÙˆØ§Ú†â€ŒÙ„ÛŒØ³Øª Ú†Ù†Ø¯ Ù†ÙØ±Ù‡ØŸ</strong> {{ token.watchlist_count }}</p>
      <p><strong>Ø­Ø¬Ù… Û²Û´Ø³Ø§Ø¹ØªÙ‡:</strong> ${{ token.volume_24h }}</p>
      <p><strong>Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù†ØªØ±Ú©Øª:</strong> {{ token.address }}</p>
      <p><a href="{{ token.chart_url }}" target="_blank">ğŸ“ˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†Ù…ÙˆØ¯Ø§Ø±</a></p>

      <p>
        <strong>Ø±ÛŒØ³Ú©:</strong>
        {% if token.risk_level == 'low' %}
          <span class="risk-low">ğŸŸ¢ Ù¾Ø§ÛŒÛŒÙ†</span>
        {% elif token.risk_level == 'medium' %}
          <span class="risk-medium">ğŸŸ  Ù…ØªÙˆØ³Ø·</span>
        {% else %}
          <span class="risk-high">ğŸ”´ Ø¨Ø§Ù„Ø§</span>
        {% endif %}
      </p>

      <div class="token-actions">
        {% if token.address in watchlist %}
          <form action="/unwatch" method="POST" style="display:inline;">
            <input type="hidden" name="token_address" value="{{ token.address }}">
            <button type="submit" class="btn btn-sm btn-outline-danger">âŒ Ø­Ø°Ù Ø§Ø² ÙˆØ§Ú†â€ŒÙ„ÛŒØ³Øª</button>
          </form>
        {% else %}
          <form action="/watch" method="POST" style="display:inline;">
            <input type="hidden" name="token_address" value="{{ token.address }}">
            <button type="submit" class="btn btn-sm btn-outline-success">â• Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ ÙˆØ§Ú†â€ŒÙ„ÛŒØ³Øª</button>
          </form>
        {% endif %}
      </div>
    </div>
  {% endfor %}

</body>
</html>
